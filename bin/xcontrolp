#!/bin/bash
banner xcontrolp
f1(){
sudo systemctl enable kubelet
sudo kubeadm config images pull
sudo kubeadm config images pull --cri-socket unix:///run/containerd/containerd.sock
#sudo kubeadm init \
#  --pod-network-cidr=10.244.0.0/16

echo "172.29.20.5 k8s-cluster.computingforgeeks.com" | sudo tee -a /etc/hosts
sudo kubeadm init \
  --pod-network-cidr=10.244.0.0/16 \
  --cri-socket unix:///run/containerd/containerd.sock \
  --upload-certs \
  --control-plane-endpoint=k8s-cluster.computingforgeeks.com
}
f1 | tee /tmp/xcontrolp.log 2| tee /tmp/xcontrolp.err

